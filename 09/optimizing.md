# Оптимизация

- Избегайте воздействия на ноды с помощью Javascript
- Старайтесь уменьшить количество зависимостей
- Будьте аккуратны с событиями
- Старайтесь повысить эффективность итерации данных
- Другое

## Избегайте воздействия на ноды с помощью Javascript

- Используйте классы для изменения внешнего вида вместо воздействия на сами ноды (style.marginLeft = "20px"). CSS намного быстрее, потому что заручается поддержкой видеокарты. Javascript должен преодолеть большой путь для того, чтобы заставить браузер применить свойства
- По возможности используйте быстрые селекторы, в случае если нод много - вы только выиграете
- Избегайте больших вложенностей. Чем глубже спратан элемент, тем труднее его найти как движку Javascript так и движку CSS
- Виртуальный скролл. В интерфейсе, где есть огромное количество данных, когда нужно задействовать скролл - скрывайте невидимые элементы, так скролл будет быстрее, потому что количество прокручиваемых нод меньше

## Старайтесь уменьшить количество зависимостей

- Подумайте хорошо, возможно вам не стоит подключать целую jQuery весом 80+ кб. только ради того, чтобы выбрать элемент и кликнуть по нему
- по возможности объединяйте файлы в один бандл, чтобы браузер выполнял меньше запросов при загрузке
- подключайте скрипты в конце страницы, или используйте ленивую заргузку (async, defer) чтобы не блокировать отрисовку страницы

## Будьте аккуратны с событиями

- не "слушайте" события, которые вам не нужны
- будьте осторожны с событиями, которые часто вызываются, например событие "mousemove". Не выполняйте каких-либо тяжелых действий внутри этого обработчика
- не забывайте отписываться от событий, если они не нужны
- используйе знания про всплытие событий, чтобы оптимизировать обработчики
- помните, что некоторые события генерируют сразу несколько событий, и иногда нет смысла слушать их все. Например вместо `click` можно использовать `mouseup`

## Старайтесь повысить эффективность итерации данных

- помните, что объект отлично может выполнять роль ассоциативного массива и давать доступ к свойствами типа obj[key]
- избегайте перезаписи массивов полностью, если это не необходимо. Помните про `push()`, `pop()`, `shift()` и `unshift()`
- если нужно перебирать массив несколько раз, старайтесь делать это как можно меньше и совмещать проходы по массиву

## Другое

- старайтесь использовать короткие цепочки областей видимости. Помните, что чем выше по замыканиям находится переменная, тем дальше интерпретатору придется искать ее
- не забывайте замыкать `this` при помощи `apply` / `call`
- используйте нативные конструкторы, они быстрее
- не забывайте про `switch` если он нужен вместо `if-else` конструкций


[Назад](https://github.com/inkorcoder/js-grow-up/tree/master/09/)