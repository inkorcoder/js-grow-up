# Node.js, Gulp.js, Webpack

## Node.js
`Node.js` - это окружение для запуска Javascript-кода внутри системы основанный на движке [V8](https://developers.google.com/v8/). Он использует [неблокирующую](https://en.wikipedia.org/wiki/Asynchronous_I/O) (асинхронную) модель ввода-вывода, что делает его очень быстрым.
<br>

Внутри окружения можно запускать как просто Javascript-код, так и Javascript-файлы.
<br>

Для Node.js написано оргомное количество дополнений в виде пакетов, которые устанавливаются посредством [npm](https://www.npmjs.com/) (Node Package Manager).
<br>

Прелесть пакетного менеджера в том, что он позволяет сохранить описание проекта, а так же зависимости для запуска nodejs-приложения. Эта информация хранится в файле `package.json`
<br>

Для того, чтобы указать имя, описание, версию и другую информацию о приложении и создать `package.json` нужно ввести команду
```
npm init
```
Для установки пакетов используется команда
```
npm install <package>
или
npm i <package>
```

Для того, чтобы сохранить зависимость - нужно указать специальный флаг при установке пакета
- `npm i <package> --save` - как обязательную зависимость, которая нужна для запуска приложения
- `npm i <package> --save-dev` - как зависимость не обязательную для запуска, но нужную для разработки (например тестирование)

## Gulp.js
`Gulp` - это таскраннер. Он позволяет упростить большинство рутинных задач по верстке и отчасти фронтенда. Суть таскраннера в том, что он запускает задачи (таски) для определенных файлов (например взять файл `a`, скомпилирвоать и положить результат в файл `b`). Таки не обязательно должны работать с файлами, так же таск может представлять из себя запуск сервера или вывод оповещения, что угодно.
<br>

Чтобы установить `Gulp` используем `npm`
- `npm i gulp --save` - установим его как пакет
- `npm i gulp -g` - установим его глобально, чтобы иметь возможность запускать его командой `gulp` из консоли
<br>

Gulp использует файл конфигурации для запуска `gulpfile.js`. Файл обычно создается в корне проекта, вместе с `README`, `package.json` и другими вспомогательными файлами и вся структура проекта строится вокруг него.

## Webpack
`Webpack` - это сборщик. В отличии от `gulp` он расчитан в первую очередь на сборку огромных проектов с огромным количеством модулей. Он поддерживает и AMD, и Commonjs и ES6 модули.
<br>

Он работает по схожему принципу, но в то же время и совсем не так как привычный `Gulp`.
- Самая главная особенность в том, что `webpack` вставляет в итоговый собранный билд-файл модули, обернутые в специальные обертки и шапку, которая работает с этими модулями. Шапка и есть униварсальным загрузчиком модулей внутри самого бандла.
- Еще одной отличительной чертой является то, что `webpack` устанавливается с уже предустановленными модулями на все случаи жизни, и в большинстве случаев уже не требуется устанавливать что-то еще.
- Отличия в сервере. `gulp-server` настраивается таким образом, что после изменения файла внутри директории - происходит перезагрузка страницы. В `webpack` все совершено иначе. Сервер поднимается на указанной директории, и отслеживает изменения, но не собранных файлов, а исходников и хранит информацию в памяти. Когда файл меняется, он меняется только в исходниках, а разница собранных бандлов вычитывается на основе данных в памяти, и подгружаются только новые данные.
- Из-за специфики работы у `webpack` существует такая система как `HMR` (Hot Module Replacement), которая позволяет "на лету" подгружать модули без перезагрузки страницы.
- Еще одной особенностью является то, что исходники обрабатываются в первую очередь как модули, и как только он находит ссылку на какой-либо файл, он пытается обработать его как модуль, при чем не важно, скрипт это или картинка. Особенно сильно это может запутать новичка. Поэтому под любое расширение файла нужно предусмотреть лоедер.

Устанавливается `webpack` коммандой
```
npm i webpack webpack-dev-server --save
```

## Домашнее задание

Создать две заготовки для проекта, в каждой должен присутствовать `package.json`, `webpack.config.js` и `README.md`, который описывает как пользоваться заготовкой. В `package.json` должны быть указаны все данные: название, описание, и т.д. Так же, все зависимости должны быть указаны.
<br>

При запуске приложение должно отобразить "Hello React!" или "Hello Angular!"

### React
Заготовка для работы с `React.js`. Должна уметь:

- установить `React` и все зависимости для запуска при помощи `npm install`
- установить и запускать `webpack-dev-server` по адресу `http://localhost:1111`
- уметь обрабатывать расширения `js`, `jsx`, `scss`, `css` и `img`
- собирать все в папку `dist` и поднимать сервер на ней

Рабочая директория должна выглядеть так:
```
app/
├ styles/
│ ├ icons.scss
│ └ app.scss
└ app.js
dist/
├ fonts/
│ └ icons/
└ bundle.js
webpack.config.js
package.json
README.md
.gitignore
```
- `app` - папка с исходниками
- `dist` - собранный проект
- `icons` - папка для шрифта с иконками, использовать [icomoon](https://icomoon.io/app/#/select), собрать на свой вкус минимум 10 иконок
- `.gitignore` - должен игнорировать `node_modules`

### Angular
Заготовка должна уметь:

- установить `Angular` последней версии и все зависимости (`typescript` в частности) для запуска при помощи `npm install`
- установить и запускать `webpack-dev-server` по адресу `http://localhost:1111`
- уметь обрабатывать расширения `ts`, `js`, `scss`, `css` и `img`
- собирать все в папку `dist` и поднимать сервер на ней

```
app/
├ styles/
│ ├ icons.scss
│ └ app.scss
└ app.ts
dist/
├ fonts/
│ └ icons/
└ bundle.js
webpack.config.js
package.json
README.md
.gitignore
```
- `app` - папка с исходниками
- `dist` - собранный проект
- `icons` - папка для шрифта с иконками, использовать [icomoon](https://icomoon.io/app/#/select), собрать на свой вкус минимум 10 иконок
- `.gitignore` - должен игнорировать `node_modules`


[Назад](https://github.com/inkorcoder/js-grow-up)